<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>OriginStamp Python|Golang SDK Examples | (p)retired</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Exploring OriginStamp using the Python and Goland SDKs">
    <meta name="generator" content="Hugo 0.146.0-DEV">
    
    
    
    
      <meta name="robots" content="index, follow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css" >




    
    
    
      

    

    

    <script data-goatcounter="https://pretired.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
 
    <meta property="og:url" content="https://pretired.dazwilkin.com/posts/200217/">
  <meta property="og:site_name" content="(p)retired">
  <meta property="og:title" content="OriginStamp Python|Golang SDK Examples">
  <meta property="og:description" content="Exploring OriginStamp using the Python and Goland SDKs">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-02-17T00:00:00-08:00">
    <meta property="article:modified_time" content="2020-02-17T00:00:00-08:00">
    <meta property="article:tag" content="OriginStamp">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="Golang">
    <meta property="article:tag" content="Swagger">

  <meta itemprop="name" content="OriginStamp Python|Golang SDK Examples">
  <meta itemprop="description" content="Exploring OriginStamp using the Python and Goland SDKs">
  <meta itemprop="datePublished" content="2020-02-17T00:00:00-08:00">
  <meta itemprop="dateModified" content="2020-02-17T00:00:00-08:00">
  <meta itemprop="wordCount" content="746">
  <meta itemprop="keywords" content="OriginStamp,Python,Golang,Swagger">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="OriginStamp Python|Golang SDK Examples">
  <meta name="twitter:description" content="Exploring OriginStamp using the Python and Goland SDKs">

      
    
	
  </head>

  <body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-dark-blue">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        (p)retired
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">OriginStamp Python|Golang SDK Examples</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-02-17T00:00:00-08:00">February 17, 2020</time>
      

      
      
        <span class="f6 mv4 dib tracked"> - 4 minutes read </span>
        <span class="f6 mv4 dib tracked"> - 746 words </span>
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>A friend mentioned <a href="https://originstamp.org">OriginStamp</a> to me.</p>
<p><strong>NB</strong> There are 2 sites: <a href="https://originstamp.com">originstamp.com</a> and <a href="https://originstamp.org">originstamp.org</a>.</p>
<p>It&rsquo;s an interesting project.</p>
<p>It&rsquo;s a solution for providing auditable proof that you had a(ccess to) some digital thing before a certain date. OriginStamp provides user-|developer-friendly means to submit files|hashes (of your content) and have these bundled into transactions that are submitted to e.g. bitcoin.</p>
<p>I won&rsquo;t attempt to duplicate the narrative here, review OriginStamp&rsquo;s site and some of its content.</p>
<p>What I did find more challenging than I should have, is writing quick-hit samples. This may be due to my lack of familiarity with <a href="https://swagger.io/">Swagger</a>-generated SDKs.</p>
<h2 id="python">Python</h2>
<p>A <a href="https://github.com/OriginStampTimestamping/originstamp-client-python">Python SDK</a> is published and so, let&rsquo;s enrich that slightly for starters:</p>
<p>All using Python3 now, hopefully:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>DIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;[[SOME-PROJECT-DIR]]/python&#34;</span>
</span></span><span style="display:flex;"><span>python3 -m venv <span style="color:#e6db74">${</span>DIR<span style="color:#e6db74">}</span>/venv
</span></span><span style="display:flex;"><span>source <span style="color:#e6db74">${</span>DIR<span style="color:#e6db74">}</span>/venv/bin/activate
</span></span></code></pre></div><p>requirements.txt:</p>
<pre tabindex="0"><code>originstamp-client==1.0.3
</code></pre><p><strong>NB</strong> Don&rsquo;t take my word for it, see PyPi&rsquo;s <a href="https://pypi.org/project/originstamp-client/"><code>originstamp-client</code></a> listing</p>
<blockquote>
<p><strong>Aside</strong><!-- raw HTML omitted -->One experiment I&rsquo;ve made with Google&rsquo;s <a href="https://github.com/google/trillian">Trillian</a> is an as-yet non-public PyPi Transparency Client. Writing this, I got a slightly better understanding of the mechanism underpinning <a href="https://pypi.org">PyPi</a>. PyPi &ndash; unsurprisingly &ndash; uses hashes as a way to provide (though not enforce) tamperproofing. The SHA256 for the wheel (!) for <code>originstamp-client</code> (1.0.3) is <code>d2fe59604eeab59919fc8b261490f80a1f5f4fc93cddfe9f6d5a2bf44033262b</code> (the BLAKE2 is <code>3200bd1d09baac20b7a3a295f5b2c798d8daf028f864212288e2d0fabd2bf6f5</code>). See <a href="https://pypi.org/project/originstamp-client/#files">link</a>. It would be interesting to use the following samples to submit timestamps of this library (and perhaps of the samples themselves) to OriginStamp. I&rsquo;ll leave that to you to try!</p></blockquote>
<p>python.py:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span><span style="color:#f92672">from</span> __future__ <span style="color:#f92672">import</span> print_function
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> argparse
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> hashlib
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> originstamp_client <span style="color:#66d9ef">as</span> client
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> time
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> originstamp_client.rest <span style="color:#f92672">import</span> ApiException
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pprint <span style="color:#f92672">import</span> pprint
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>parser <span style="color:#f92672">=</span> argparse<span style="color:#f92672">.</span>ArgumentParser(
</span></span><span style="display:flex;"><span>    description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Test OriginStamp Python SDK&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>parser<span style="color:#f92672">.</span>add_argument(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;--api_key&#34;</span>,
</span></span><span style="display:flex;"><span>    help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;OriginStamp API Key&#34;</span>,
</span></span><span style="display:flex;"><span>    required<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>parser<span style="color:#f92672">.</span>add_argument(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;--email&#34;</span>,
</span></span><span style="display:flex;"><span>    help<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Email address to receive notifications&#34;</span>,
</span></span><span style="display:flex;"><span>    required<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>args <span style="color:#f92672">=</span> parser<span style="color:#f92672">.</span>parse_args()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>api_instance <span style="color:#f92672">=</span> client<span style="color:#f92672">.</span>TimestampApi()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#34;Frederik Jack is a bubbly Border Collie&#34;</span>
</span></span><span style="display:flex;"><span>h <span style="color:#f92672">=</span> hashlib<span style="color:#f92672">.</span>sha256(s)<span style="color:#f92672">.</span>hexdigest()
</span></span><span style="display:flex;"><span>print(h)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rqst <span style="color:#f92672">=</span> client<span style="color:#f92672">.</span>TimestampRequest(
</span></span><span style="display:flex;"><span>    comment<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;FrederikJack test&#34;</span>,
</span></span><span style="display:flex;"><span>    hash<span style="color:#f92672">=</span>h,
</span></span><span style="display:flex;"><span>    notifications<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>        client<span style="color:#f92672">.</span>Notification(
</span></span><span style="display:flex;"><span>            currency<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>            notification_type<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>            target<span style="color:#f92672">=</span>args<span style="color:#f92672">.</span>email,
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    resp <span style="color:#f92672">=</span> api_instance<span style="color:#f92672">.</span>create_timestamp(
</span></span><span style="display:flex;"><span>        args<span style="color:#f92672">.</span>api_key,
</span></span><span style="display:flex;"><span>        rqst,
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>    pprint(resp)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> ApiException <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Exception calling create_timestamp: </span><span style="color:#e6db74">%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, e)
</span></span></code></pre></div><p>You can run this from the command-line</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 python.py --api_key<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>API_KEY<span style="color:#e6db74">}</span> --email<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>EMAIL<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>Or create a Visual Studio Code <code>launch.json</code> similar to:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;0.2.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;configurations&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Launch&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;go&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;request&#34;</span>: <span style="color:#e6db74">&#34;launch&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;mode&#34;</span>: <span style="color:#e6db74">&#34;auto&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;program&#34;</span>: <span style="color:#e6db74">&#34;${fileDirname}&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;env&#34;</span>: {},
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;args&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;--api_key=[API_KEY]&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;--email=[EMAIL]&#34;</span>,
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>You receive a response of the form:</p>
<pre tabindex="0"><code>{&#39;data&#39;: {&#39;comment&#39;: None,
          &#39;created&#39;: False,
          &#39;date_created&#39;: 1581969171289,
          &#39;hash_string&#39;: &#39;037e945cf8da5945acbcf2390c71a497c6edefdc364ada1f33d76a2b5f8b472b&#39;,
          &#39;timestamps&#39;: [...]},
 &#39;error_code&#39;: 0,
 &#39;error_message&#39;: None}
</code></pre><p><strong>NB</strong> I didn&rsquo;t expect the <code>comment</code> value in the response to be <code>None</code> (API <a href="https://api.originstamp.com/swagger-ui.html#/timestamp/createTimestamp">documentation</a>)</p>
<p><strong>NB</strong> The hash (<code>037e945cf8da5945acbcf2390c71a497c6edefdc364ada1f33d76a2b5f8b472b</code>) corresponds to the SHA-256 of the string in the sample; you should be able to verify this value.</p>
<h2 id="golang">Golang</h2>
<p>This took a little more &rsquo;tweaking&rsquo; :-(</p>
<p>The SDK is available from the web site but is not published (!?) to GitHub <a href="https://github.com/OriginStampTimestamping">OriginStamp</a></p>
<p>Navigate to <a href="https://originstamp.org/dev">https://originstamp.org/dev</a> and choose &ldquo;Go&rdquo; from the &ldquo;Download Client Code&rdquo; under &ldquo;Integrate OriginStamp into Existing Services&rdquo; section.</p>
<p>The README that&rsquo;s included suggests incorporating the SDK into your project.</p>
<p>I chose to keep it separate using Modules. Your choice.</p>
<p>Assuming:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>DIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;[[SOME-PROJECT-DIR]]/golang&#34;</span>
</span></span></code></pre></div><pre tabindex="0"><code>${DIR}
├── go-client
└── main
</code></pre><p>I added a <code>go.mod</code> file to the OriginStamp SDK (naming it <code>github.com/OriginStampTimestamping/originstamp-client-golang</code> to be consistent with the other SDKs)</p>
<p>and then created a <code>go.mod</code> for my package:</p>
<pre tabindex="0"><code>module github.com/[YOUR-GITHUB]/originstamp

go 1.13

replace github.com/OriginStampTimestamping/originstamp-client-golang =&gt; ../go-client

require (
	github.com/OriginStampTimestamping/originstamp-client-golang v0.0.1
)
</code></pre><p>The roughly equivalent Golang code is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Golang" data-lang="Golang"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;crypto/sha256&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;flag&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">api</span> <span style="color:#e6db74">&#34;github.com/OriginStampTimestamping/originstamp-client-golang&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">apiKey</span> = <span style="color:#a6e22e">flag</span>.<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;api_key&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;OriginStamp API Key&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">email</span>  = <span style="color:#a6e22e">flag</span>.<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;email&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;Email for Notifications&#34;</span>)
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">flag</span>.<span style="color:#a6e22e">Parse</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">apiKey</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#e6db74">&#34;expect &#39;--api_key&#39;&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">client</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">api</span>.<span style="color:#a6e22e">NewAPIClient</span>(<span style="color:#a6e22e">api</span>.<span style="color:#a6e22e">NewConfiguration</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;Frederik Jack is a bubbly Border Collie&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">h</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sha256</span>.<span style="color:#a6e22e">Sum256</span>([]byte(<span style="color:#a6e22e">s</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%x\n&#34;</span>, <span style="color:#a6e22e">h</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">rqst</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">api</span>.<span style="color:#a6e22e">TimestampRequest</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Comment</span>: <span style="color:#e6db74">&#34;FrederikJack test&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Hash</span>:    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%x&#34;</span>, <span style="color:#a6e22e">h</span>),
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">Notifications</span>: []<span style="color:#a6e22e">api</span>.<span style="color:#a6e22e">Notification</span>{
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">Currency</span>:         <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">NotificationType</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">Target</span>:           <span style="color:#f92672">*</span><span style="color:#a6e22e">email</span>,
</span></span><span style="display:flex;"><span>			},
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">resp</span>, <span style="color:#a6e22e">httpResp</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">TimestampApi</span>.<span style="color:#a6e22e">CreateTimestamp</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(),
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">*</span><span style="color:#a6e22e">apiKey</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">rqst</span>,
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Response:\n%+v\n&#34;</span>, <span style="color:#a6e22e">resp</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;HTTP:\n%+v\n&#34;</span>, <span style="color:#a6e22e">httpResp</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>and, of course:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>go run main.go --api_key<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>API_KEY<span style="color:#e6db74">}</span> --email<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>EMAIL<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>Go&rsquo;s <code>%+v</code> isn&rsquo;t as &lsquo;pretty&rsquo; as Python&rsquo;s. One option is to print <code>resp.Data</code> instead.</p>
<p>A slightly better approach is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Golang" data-lang="Golang"><span style="display:flex;"><span><span style="color:#a6e22e">pretty</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">MarshalIndent</span>(<span style="color:#a6e22e">resp</span>, <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;  &#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">err</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Response:\n%+v\n&#34;</span>, string(<span style="color:#a6e22e">pretty</span>))
</span></span></code></pre></div><p>This results in something similar to:</p>
<pre tabindex="0"><code>2020/02/17 14:20:02 037e945cf8da5945acbcf2390c71a497c6edefdc364ada1f33d76a2b5f8b472b
2020/02/17 14:20:02 Request:
{Comment:FrederikJack test Hash:037e945cf8da5945acbcf2390c71a497c6edefdc364ada1f33d76a2b5f8b472b Notifications:[{Currency:0 NotificationType:0 Target:...}] Url:}
2020/02/17 14:20:02 Response:
{
  &#34;data&#34;: {
    &#34;date_created&#34;: 1581969171289,
    &#34;hash_string&#34;: &#34;037e945cf8da5945acbcf2390c71a497c6edefdc364ada1f33d76a2b5f8b472b&#34;,
    &#34;timestamps&#34;: [...]
  }
}
2020/02/17 14:20:02 HTTP:
&amp;{Status:200 OK StatusCode:200 ... }
</code></pre><p><strong>NB</strong> The hash (as expected) is the same everywhere.</p>
<p><strong>NB</strong> The StatusCode is <code>200</code> (success)</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/tags/originstamp/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">OriginStamp</a>
   </li>
  
   <li class="list di">
     <a href="/tags/python/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Python</a>
   </li>
  
   <li class="list di">
     <a href="/tags/golang/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Golang</a>
   </li>
  
   <li class="list di">
     <a href="/tags/swagger/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Swagger</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/posts/190926/">PyPi Transparency</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/200206/">Cloud Build wishlist: Mountable Golang Modules Proxy</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/200122/">Setting up a GCE Instance as an Inlets Exit Node</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/200110/">Google Fit</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/200107/">Google Home Exporter</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/191220/">Google Cloud Platform (GCP) Exporter</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/191218/">Linode Prometheus Exporter</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/190918/">Cloud Functions Simple(st) HTTP Multi-host Proxy</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/190917/">Cloud Functions Simple(st) HTTP Proxy</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/190907/">pypi-transparency</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-dark-blue bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://pretired.dazwilkin.com/" >
    &copy;  (p)retired 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>