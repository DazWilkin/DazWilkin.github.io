<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Visual Studio Code on (p)retired</title>
    <link>https://pretired.dazwilkin.com/tags/visual-studio-code/</link>
    <description>Recent content in Visual Studio Code on (p)retired</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 17 Sep 2020 00:00:00 -0700</lastBuildDate>
    <atom:link href="https://pretired.dazwilkin.com/tags/visual-studio-code/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Visual Studio Code plus Google Cloud Shell</title>
      <link>https://pretired.dazwilkin.com/posts/200917/</link>
      <pubDate>Thu, 17 Sep 2020 00:00:00 -0700</pubDate>
      <guid>https://pretired.dazwilkin.com/posts/200917/</guid>
      <description>&lt;h2 id=&#34;update-2020-09-24&#34;&gt;Update: 2020-09-24&lt;/h2&gt;&#xA;&lt;p&gt;Three updates since I wrote the post:&lt;/p&gt;&#xA;&lt;h3 id=&#34;gcloud-alpha-cloud-shell-get-mount-command-dir&#34;&gt;&lt;code&gt;gcloud alpha cloud-shell get-mount-command ${DIR}&lt;/code&gt;&lt;/h3&gt;&#xA;&lt;p&gt;It&amp;rsquo;s possible to use &lt;code&gt;sshfs&lt;/code&gt; to mount the Cloud Shell home directory locally:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;DIR&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/path/to/dir&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcloud alpha cloud-shell get-mount-command &lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;DIR&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Which generates something of the form:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sshfs &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt;USERNAME&lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;@&lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt;HOST&lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;DIR&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-p &lt;span style=&#34;color:#f92672&#34;&gt;[[&lt;/span&gt;PORT&lt;span style=&#34;color:#f92672&#34;&gt;]]&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-oIdentityFile&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;~/.ssh/google_compute_engine &lt;span style=&#34;color:#ae81ff&#34;&gt;\&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-oStrictHostKeyChecking&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;no&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You may then &lt;code&gt;code --new-window ${DIR}&lt;/code&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;curl-command-may-lack-sshhost&#34;&gt;curl command may lack &lt;code&gt;.sshHost&lt;/code&gt;&lt;/h3&gt;&#xA;&lt;p&gt;curl&amp;rsquo;ing the &lt;code&gt;cloudshell.googleapis.com&lt;/code&gt; endpoint will result in a null value for &lt;code&gt;.sshHost&lt;/code&gt; if the Cloud Shell VM must be recreated. The &lt;code&gt;gcloud&lt;/code&gt; command avoids this by using an operation to poll the endpoint until the VM exists. The hacky alternative is to run &lt;code&gt;gcloud alpha cloud-shell ssh&lt;/code&gt; to force the VM to be created before running the curl command.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
